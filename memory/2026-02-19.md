## Voice + Screening App Buildout (durable)
- Built and iteratively updated a production-style calling/screening app at `/root/.openclaw/workspace/voice-call-agent` using FastAPI + Twilio + ElevenLabs.
- Added screening landing UI at `https://screening.joblynk.ai/ui` behind nginx reverse proxy to port `8000`.
- Added interview gating flow: init pipeline -> start trigger -> call start.
- Added interview/session APIs:
  - `POST /interview/init`
  - `POST /interview/init-upload`
  - `GET /interview/status/{session_id}`
  - `POST /interview/start/{session_id}`
  - `POST /interview/call/{session_id}`
- Added job posting persistence to PostgreSQL table `public.screening_jobs` (DB: `agent_memory_hub`) with APIs:
  - `POST /jobs`
  - `GET /jobs`
  - `GET /jobs/{job_id}`
  - `DELETE /jobs/{job_id}`
  - `GET /db/health`
- Added UI features:
  - Save Job, Refresh Jobs, Use this job, Delete
  - progress bar/step indicators for interview initialization
  - posted jobs + interview sessions panes
  - rich text job description editor with formatting toolbar (bold/italic/bullets/numbering)
  - resume upload parsing support for `.pdf/.docx/.doc/.txt`
- Important UI robustness changes:
  - server-side rendering of posted jobs in `/ui` to avoid empty list issues
  - cache-busting/no-store behavior for job reads
  - server-side `/ui/use-job` redirect flow to prefill selected job
  - server-side `/ui/delete-job` and `/ui/save-job` form handlers
- Current runtime expectation: run app via venv uvicorn on port 8000; nginx routes `screening.joblynk.ai` to this app.

## Durable fixes after user QA (UI behavior)
- Fixed `/ui` 500 error root cause: template string variable shadowed Python `html` module (`AttributeError: 'str' object has no attribute 'escape'`). Renamed template variable and restored safe escaping/replacements.
- Fixed save-validation mismatch for rich text JD editor:
  - frontend now validates from `#jdEditor` content and syncs hidden `job_description` before submit,
  - backend `/ui/save-job` now treats rich HTML wrappers (`<br>`, `<div>`, `&nbsp;`) as empty-only when truly blank.
- Verified production endpoint can save long real-world JD text and returns `303 /ui?saved=1`; created test job id `cc2fc451d0ec42a48cd6ca60625db6f4`.
- Improved “Use this job” reliability:
  - server-side injects selected JD into editor HTML (`__SELECTED_JD_HTML__`) so JD loads even if JS is delayed,
  - retained JS hydration as backup.
- Added and hardened `Start New Job` reset flow:
  - UI button now routes to `/ui?new=1` for deterministic clean slate,
  - clears title, JD editor, hidden JD payload, resume text, resume file, phone value, progress/status, and action button states.
- Confirmed `/ui?new=1` renders empty `jobTitle`, empty `jdEditor`, and empty `phone` values.
## Voice-call-agent updates (durable)
- Fixed production UI 500 on `/ui?new=1` by importing missing `re` module used in `_server_jobs_html()`; verified `/ui` and `/dashboard/stats` return 200.
- Added authentication wall for inner pages:
  - New login/logout routes (`/login`, `/logout`), signed session cookie, and protected routes (`/ui`, `/dashboard`, `/jobs*`, `/interview*`, `/candidate*`, `/resume*`, `/db/health`).
  - Unauthenticated users are blocked from inner pages until login.
- Added password recovery and account security features:
  - Forgot/reset flow with SMTP delivery.
  - Upgraded reset to OTP code (6-digit, 20-minute expiry) with verification attempts cap.
  - Added authenticated `/account` page for in-session password change.
  - Added basic IP-based rate limiting for login/forgot/reset endpoints.
- Updated `.env.example` to document auth + SMTP settings:
  - `APP_LOGIN_EMAIL`, `APP_LOGIN_PASSWORD`, `APP_SESSION_SECRET`
  - `SMTP_HOST`, `SMTP_PORT`, `SMTP_USER`, `SMTP_PASS`, `SMTP_FROM`, `SMTP_USE_TLS`
- Pushed commits to `main` in `Softwise-Technical-Screening`:
  - `73c436e` (fix missing `re` import)
  - `4426de7` (login auth + protected routes)
  - `000cd1a` (forgot/reset password via SMTP)
  - `4fca43a` (OTP reset, account page, auth rate limiting)
